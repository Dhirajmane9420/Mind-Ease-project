/* --- Main Content Theme (Dark) --- */
:root{
    --bg: #0a0a0a;
    --panel: #141414;
    --muted: #888888;
    --text: #f0f0f0;
    --brand: #e53e3e; /* red */
    --brand-2: #c53030; /* darker red */
    --danger: #e53e3e;
    --ok: #38a169;
    --warn: #dd6b20;
    --card: #1a1a1a;
    --border: #333333;
    --chip: #322323;
    --chip-text: #f1cccc;
    --focus: 0 0 0 3px rgba(229, 62, 62, .4);
    --radius: 14px;
    --radius-sm: 10px;
    --radius-xs: 8px;
    --shadow: 0 10px 30px rgba(0,0,0,.5), inset 0 1px 0 rgba(255,255,255,.02);
    --shadow-soft: 0 8px 24px rgba(0,0,0,.5);
    --grid-gap: 18px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
    margin:0;
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
    background: var(--bg);
    color:var(--text);
    line-height:1.5;
    transition: background .3s, color .3s;
}
a{color:inherit;text-decoration:none}
.layout{ display:grid; grid-template-columns: 260px 1fr; min-height:100vh; }

/* --- SIDEBAR THEME --- */
.sidebar {
    background-color: #1e293b; /* dark navy/charcoal */
    color: #e2e8f0; /* light gray text */
    border-right: 1px solid #334155;
    backdrop-filter: blur(6px);
    padding: 20px 16px;
    position: sticky;
    top: 0;
    height: 100vh;
    overflow: auto;
    display: flex;
    flex-direction: column;
}
.sidebar .brand h1 {
    color: #f1f5f9; /* slightly brighter for headings */
    font-size: 16px;
    font-weight: 700;
    letter-spacing: .4px;
}
.sidebar .muted {
    color: #cbd5e1; /* softer gray */
    font-size: 12px;
    margin: 0 10px 12px;
}
.sidebar .logo {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: conic-gradient(from 0deg, #475569, #94a3b8, #475569);
    position: relative;
    display: grid;
    place-items: center;
}
.sidebar .logo::after {
    content: "";
    width: 24px;
    height: 24px;
    border-radius: 8px;
    background: #1e293b;
    opacity: .9;
}
.sidebar .nav { display: grid; gap: 8px; margin-top: 10px; }
.sidebar #nav button {
    width: 100%;
    text-align: left;
    padding: 10px 12px;
    border: 1px solid transparent;
    background: transparent;
    border-radius: 10px;
    color: #e2e8f0;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: .2s ease;
    box-shadow: none;
}
.sidebar #nav button:hover {
    background-color: #334155; /* hover: slightly lighter navy */
    transform: translateY(-1px);
}
.sidebar #nav button.active {
    background-color: #475569; /* muted blue-gray */
    font-weight: 600;
    color: #f1f5f9;
}
.sidebar .nav .chip {
    margin-left: auto;
    background: #334155;
    color: #e2e8f0;
    font-size: 11px;
    padding: 2px 8px;
    border-radius: 999px;
    border: 1px solid #475569;
}
.sidebar-footer {
    margin-top: auto;
    padding-top: 16px;
    display: grid;
    gap: 8px;
}
.sidebar-footer .btn {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 10px;
    background: transparent;
    border: 1px solid #475569;
    color: #e2e8f0;
}
.sidebar-footer .btn:hover {
    background: #334155;
    border-color: #64748b;
}
.sidebar-footer .btn.danger {
    background-color: #e53e3e;
    border-color: #e53e3e;
    color: #ffffff;
}
.sidebar-footer .btn.danger:hover {
    background-color: #c53030; /* Darker red on hover */
    border-color: #c53030;
    color: #ffffff;
}
/* --- END OF SIDEBAR THEME --- */


.content{ padding:24px; min-width:0; }
.topbar{ display:flex; gap:12px; align-items:center; justify-content:space-between; margin-bottom:18px; flex-wrap: wrap; }
.search{ display:flex; align-items:center; gap:8px; background:#222; border:1px solid var(--border); border-radius:10px; padding:8px 10px; min-width:260px; max-width:480px; width:40%; }
.search input{ background:transparent; border:0; outline:none; color:var(--text); width:100%; }
.actions{display:flex; gap:10px; align-items:center;}
.btn{ border:1px solid var(--border); border-radius:10px; padding:8px 12px; background:#222; color:var(--text); cursor:pointer; transition:.2s; }
.btn:hover{transform: translateY(-1px); border-color:#444; background:#1f1f1f;}
.btn.primary{background: linear-gradient(180deg, rgba(229, 62, 62, .2), rgba(229, 62, 62, .1)); border-color: rgba(229, 62, 62, .5)}
.btn.warn{background: linear-gradient(180deg, rgba(221, 107, 32,.22), rgba(221, 107, 32,.1)); border-color: rgba(221, 107, 32,.5)}
.grid{ display:grid; grid-template-columns: repeat(12, 1fr); gap: var(--grid-gap); }
.card{ background: linear-gradient(180deg, rgba(26,26,26,.88), rgba(20,20,20,.92)); border:1px solid var(--border); border-radius: var(--radius); box-shadow: var(--shadow); padding:16px; }
.card h3{margin:0 0 12px; font-size:14px; color:#ddd; letter-spacing:.3px}
.stat{ display:flex; align-items:center; justify-content:space-between; gap:8px; background: linear-gradient(180deg, rgba(30,30,30,.6), rgba(25,25,25,.6)); border:1px solid var(--border); border-radius:12px; padding:12px 14px; }
.stat .kpi{ font-size:22px; font-weight:800; }
.trend{font-size:12px; color:var(--muted)}
.trend.up{color:var(--ok)} .trend.down{color:var(--danger)} .trend.flat{color:var(--muted)}
.filters{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px; }
select, .input{ background:#222; color:var(--text); border:1px solid var(--border); border-radius:8px; padding:8px 10px; }
table{width:100%; border-collapse: collapse; font-size:14px;}
th, td{border-bottom:1px solid var(--border); padding:10px 8px; text-align:left;}
th{color:#a6b6c2; font-weight:600; font-size:12px; letter-spacing:.3px; text-transform:uppercase}
tr:hover td{background: rgba(229, 62, 62, .065)}
.badge{font-size:11px; padding:4px 8px; border-radius:999px; border:1px solid var(--border); background:#2b2b2b; color:#ddd}
.badge.ok{border-color: rgba(56, 161, 105,.4); color:#b8f3cf; background: rgba(56, 161, 105,.08)}
.badge.warn{border-color: rgba(221, 107, 32,.4); color:#fde5b8; background: rgba(221, 107, 32,.08)}
.badge.danger{border-color: rgba(229, 62, 62,.45); color:#ffd0d0; background: rgba(229, 62, 62,.08)}
.flex{display:flex; gap:10px; align-items:center}
.right{margin-left:auto} .small{font-size:12px; color:var(--muted)}
.divider{height:1px; background:var(--border); margin:10px 0}
.footer{margin-top:18px; color:var(--muted); font-size:12px}
.pill{ background: rgba(229, 62, 62,.14); color:#f1cccc; border:1px solid rgba(229, 62, 62,.4); padding:3px 8px; border-radius:999px; font-size:11px }
.legend{display:flex; gap:12px; flex-wrap:wrap; align-items: center;}
.legend .dot{width:10px; height:10px; border-radius:50%}
.modal-backdrop{ position:fixed; inset:0; background:rgba(10,0,0,.6); display:none; align-items:center; justify-content:center; z-index:50; padding:16px; backdrop-filter: blur(4px); }
.modal{ width:min(700px, 100%); background:var(--panel); border:1px solid var(--border); border-radius:14px; box-shadow: var(--shadow); padding:16px; }
.modal h3{margin:0 0 6px}
.modal .row{display:flex; gap:10px; margin-bottom:10px; flex-wrap:wrap}
.modal .row > *{flex:1}
.modal .footer{display:flex; justify-content:flex-end; gap:10px; margin-top:10px}

/* --- Main Content Theme (Light) --- */
body.light-theme{
    --panel: #ffffff;
    --muted: #6b7280;
    --text: #1a1a1a;
    --brand: #d93737; 
    --brand-2: #b22222;
    --card: #ffffff;
    --border: #e5e7eb;
    --chip: #fee2e2;
    --chip-text: #991b1b;
    --focus: 0 0 0 3px rgba(229, 62, 62, .25);
    --shadow: 0 4px 12px rgba(0,0,0,.08);
    --shadow-soft: 0 4px 10px rgba(0,0,0,.06);
    /* --- MODIFIED BACKGROUND --- */
    background: linear-gradient(to bottom right, #E0D9E6, #C9D2DD, #A3BCCF);
}

.light-theme .search, .light-theme .btn, .light-theme select, .light-theme .input { background: #f8fafc; }
.light-theme .search:focus-within, .light-theme .btn:hover { border-color:#9ca3af; background:#fff;}
.light-theme .card, .light-theme .modal { background: var(--panel); border-color: var(--border); }
.light-theme .stat{ background: linear-gradient(180deg, #fdfdfd, #f9fafb); }
.light-theme tr:hover td{background: rgba(239, 68, 68, .06);}
.light-theme .modal-backdrop{ background:rgba(20,20,20,.4); }
.light-theme .badge { background: #f3f4f6; color: #374151; }
.light-theme .badge.ok { color: #047857; background: #d1fae5; border-color: #6ee7b7; }
.light-theme .badge.warn { color: #b45309; background: #fef3c7; border-color: #fcd34d; }
.light-theme .badge.danger { color: #991b1b; background: #fee2e2; border-color: #fca5a5; }
.light-theme .card h3 {color: #374151;}

@media (max-width: 1024px){ .layout{grid-template-columns: 1fr} .sidebar{position:static; height:auto; border-right:0; border-bottom:1px solid #334155} }
@media (max-width: 640px){ .grid{grid-template-columns: repeat(6, 1fr)} .search{width:100%} .topbar{flex-direction: column; align-items: stretch;} }